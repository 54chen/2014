<html class="no-js" lang="en">
<!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <title>五四陈科学院</title>
    <meta name="author" content="54chen">
  
    
    <meta name="description" content="rose手册第三章三节：controller层：ErrorHandler支持 2012-05-16 00:00:00 +0800 3.3.1 ErrorHandler的作用
  一般来说传统的编程都会到处去try，特别是java里，try来try去的（如果你用erlang一定就知道，已经知道的可能性 …">
    
  
    <!-- http://t.co/dKP3o1e -->
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  
    
    <link rel="canonical" href="https://www.54chen.com/posts/13">
    <link href="/favicon.png" rel="icon">
    <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
    <link href="/stylesheets/fkwb.css?v6" type="text/css" rel="stylesheet">  
    <link href="/atom.xml" rel="alternate" title="五四陈科学院" type="application/atom+xml">
    	<link rel="apple-touch-icon" href="touch-icon.png">
  	<link rel="shortcut icon" href="/favicon.ico">
  
    
  
    <style type="text/css">.entry-content table {display: block;width: 100%;overflow: auto;word-break: normal;word-break: keep-all;}.entry-content table th {font-weight: bold;}.entry-content table th,.entry-content table td {padding: 6px 13px;border: 1px solid #ddd;}.entry-content table tr {background-color: #fff;border-top: 1px solid #ccc;}.entry-content table tr:nth-child(2n) {background-color: #f8f8f8;}</style>
  </head>
  
  <body>
    <header role="banner" class="banner_css"><a style="float:left" href="/"><img border="0" src="/images/54chen-logo.gif" alt="五四陈科学院-相信科学，分享技术." title="五四陈科学院-相信科学，分享技术.">
  </a>
  <div>
      <a href="/">首页</a>
      <a href="/blog/archives">归档</a>
      <a href="/video">视频</a>
      <a href="/about">关于</a>
  
      <a href="http://www.54chen.com" style="font-size:9px">想找旧版内容？</a>
  </div>
  <div class="subscription">
    
  <form action="https://www.54chen.com/cgi" method="get">
    <fieldset role="search">
      
      <input class="search" type="text" name="key" placeholder="Search">
    </fieldset>
  </form>
    
  
  </div>
  
  </header>
    <nav role="navigation"><ul class="subscription" data-subscription="rss">
    <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
    
  </ul>
    
  <form action="https://www.54chen.com/cgi" method="get">
    <fieldset role="search">
      
      <input class="search" type="text" name="key" placeholder="Search">
    </fieldset>
  </form>
    
    <li><a href="/">Blog</a></li>
    <li><a href="/blog/archives">Archives</a></li>
  
  </nav>
    <div id="main">
      <div id="content">
        <div class="blog-index">
    
    
    
      <article>
        
    <header>
      
        <h1 class="entry-title"><a href="/blog/2012/05/16/rose-3-3/">rose手册第三章三节：controller层：ErrorHandler支持</a></h1>
      
      
        <p class="meta">
          
  
  
  
  
  
  
  
  
    
  
  
  
  <time datetime="2012-05-16T00:00:00+08:00" pubdate data-updated="true">2012-05-16 00:00:00 +0800</time>
          
        </p>
      
    </header>
  
  
    <div class="entry-content entry-content1">
<p><img src="http://img03.taobaocdn.com/bao/uploaded/i3/T1_9ahXlFfXXbwx8Z8_101515.jpg_210x210.jpg" alt="rose">
  <strong>
  3.3.1 ErrorHandler的作用</strong>
  一般来说传统的编程都会到处去try，特别是java里，try来try去的（如果你用erlang一定就知道，已经知道的可能性，怎么能叫异常？都try了还是让它崩了算了。。。）。<br>
  如果打开你的项目，每个java文件中的代码都有一堆的try，那这时候就是ErrorHandle上阵的时候了。<br>
  ErrorHanle致力于：统一捕捉和处理各种异常，可区分对待和返回；统一的出错体验。<br>
  非常类似做web开发时的500统一出错页面这样的东东。
  <strong>3.3.2 示例</strong></p>
  
  <p></p>
<blockquote>/**<br>
   * @author chenzhen@xiaomi.com<br>
   * 2010-12-1 <br>
   */</blockquote>
  
  <p>package com.chen.controllers;</p>
  
  <p>import net.paoding.rose.web.ControllerErrorHandler;<br>
  import net.paoding.rose.web.Invocation;</p>
  
  <p>public class ErrorHandler implements ControllerErrorHandler {</p>
  
  <p>    public Object onError(Invocation inv, Throwable ex) throws Throwable {</p>
  
  <p>        // TODO logger.error("handle err:", ex);</p>
  
  <p>        return "@error";<br>
      }<br>
  }</p>
  
  <p>这是这么简单，不用怀疑！</p>
  
  <p><strong>3.3.3 放在哪里才能生效？</strong>
  放在controllers目录下，和controller们在一起（幸福快乐地生活）。<br>
  一般来讲，ErrorHandler都是用在web项目里，在最快层起作用。<br>
  所有的方法都可以尽情地向处throws Exception了。<br>
  不需要再try了。</p>
  
  <p></p>
<blockquote>@Path("")<br>
  public class HelloController {<br>
      @Get("")<br>
      public String index2() throws Exception {<br>
          return "@hello world";<br>
      }<br>
  }</blockquote>
  
  <p><strong>
  3.3.3 有用的例子: 不同的异常类型做不用的事情</strong></p>
  
  <p></p>
<blockquote>/**<br>
   * @author chenzhen@xiaomi.com<br>
   * 2010-12-1 <br>
   */</blockquote>
  
  <p>package com.chen.controllers;</p>
  
  <p>import net.paoding.rose.web.ControllerErrorHandler;<br>
  import net.paoding.rose.web.Invocation;</p>
  
  <p>public class ErrorHandler implements ControllerErrorHandler {</p>
  
  <p>    public Object onError(Invocation inv, Throwable ex) throws Throwable {</p>
  
  <p>        // TODO logger.error("handle err:", ex);<br>
          if (ex instanceof RuntimeException) {<br>
              return "@runtime";<br>
          }<br>
          return "@error";<br>
      }<br>
  }</p>
  
  <p>文中所提及代码均在 <a href="https://github.com/XiaoMi/rose/tree/master/rose-example">https://github.com/XiaoMi/rose/tree/master/rose-example</a> 提供。<br>
  文档持续修改版本在 <a href="https://github.com/XiaoMi/rose/tree/master/chapter_3_3">https://github.com/XiaoMi/rose/tree/master/chapter_3_3</a>。</p>
  </div>
    
    
  
  
      </article>
    
    
      <article>
        
    <header>
      
        <h1 class="entry-title"><a href="/blog/2012/05/04/rose-3-2/">Rose手册第三章二节：controller层：拦截器支持</a></h1>
      
      
        <p class="meta">
          
  
  
  
  
  
  
  
  
    
  
  
  
  <time datetime="2012-05-04T00:00:00+08:00" pubdate data-updated="true">2012-05-04 00:00:00 +0800</time>
          
        </p>
      
    </header>
  
  
    <div class="entry-content entry-content1">
<p><img src="http://img03.taobaocdn.com/bao/uploaded/i3/T1_9ahXlFfXXbwx8Z8_101515.jpg_210x210.jpg" alt="rose">
  <strong>3.2.1 拦截器作用</strong></p>
  
  <p>    面向切面编程（AOP）方法可以让一个项目更加关注核心逻辑，常见的一些最佳实践包括<br>
          权限<br>
          缓存<br>
          错误处理<br>
          延时加载<br>
          调试<br>
          持久化<br>
          资源池<br>
          等等。。。<br>
      而此处的拦截器目标是在controller层提供各种在controller执行前、执行后的代码切入，以达到各种可AOP的目标。<br>
      简单地说，拦截器能干的事情就是当你的项目写了一半时发现缺少啥全局要做的事情（比如需要验证权限），不用担心，搞一个拦截器就是了。</p>
  
  <p><strong>3.2.2 拦截器例子</strong></p>
  
  <p></p>
<blockquote>public class AccessTrackInterceptor extends ControllerInterceptorAdapter {<br>
      public AccessTrackInterceptor() {<br>
      setPriority(29600);<br>
      }<br>
      @Override<br>
      public Class extends Annotation&gt; getRequiredAnnotationClass() {<br>
          return PriCheckRequired.class; // 这是一个注解，只有标过的controller才会接受这个拦截器的洗礼。<br>
      }<br>
      @Override<br>
      public Object before(Invocation inv) throws Exception {<br>
          // TODO ....<br>
      return super.before(inv);<br>
      }</blockquote>
  
  <p>    @Override<br>
      public void afterCompletion(final Invocation inv, Throwable ex) throws Exception {<br>
      // TODO ....<br>
      }<br>
  </p>
  
  <p><strong>需要注意几点：</strong></p>
  
  <p>    拦截器要放在controllers下(高级用法:打在rose-jar包里，参见5.1)<br>
      继承net.paoding.rose.web.ControllerInterceptorAdapter<br>
      按照实现的方法名，在controller执行前、中、后执行：<br>
          before：在controller执行前执行。<br>
          after：在controller执行中（后）执行，如果一个返回抛出了异常，则不会进来。<br>
          afterCompletion：在controller执行后执行，不论是否异常，都会进来。<br>
          isForAction：定义满足某条件的才会被拦截。</p>
  
  <p><strong>3.2.3 拦截器可动的位置细节</strong></p>
  
  <p>    上面都讲得差不多了，实际上还有不少地方可以拦截的：<br>
          isForDispatcher：根据响应的情况判断是否拦截，比如说是正常请求、内部forward、还是include （但是没用过）<br>
          setPriority：设置一个数字表示拦截优先级，当有多个拦截器时，要精准控制，数字小的内层，大的在外层，在最外层的before方法最先执行，大家都执行完后它的after才最后执行。<br>
          round：这才是真正的controller执行中执行，不过用得很少。<br>
          getRequiredAnnotationClass：返回一个Annotation class name，表示这个拦截器只对此Annotation标过的controller才生效。常用。</p>
  
  <p><strong>3.2.4 实际应用场景</strong></p>
  
  <p>    全站是否登录判断相关的逻辑，写在一个拦截器里，一次完成后，其他地方不再关心这个代码，在需要登录才能做的controller上注解一下，表示需要被执行拦截。<br>
      日志收集的逻辑，在一个拦截器里进行当前的access log记录。<br>
      权限体系的逻辑，写在一个拦截器里，在对应的作上作注解，拦截器中进行细节的判断，新加的api也只是需要一次注解就得到了权限的判断。</p>
  
  <p>[文中所提代码均在 <a href="https://github.com/XiaoMi/rose/tree/master/rose-example">https://github.com/XiaoMi/rose/tree/master/rose-example</a>]<br>
  常期更新版本在：<a href="https://github.com/XiaoMi/rose/tree/master/chapter_3_2">https://github.com/XiaoMi/rose/tree/master/chapter_3_2</a></p>
  </div>
    
    
  
  
      </article>
    
    
      <article>
        
    <header>
      
        <h1 class="entry-title"><a href="/blog/2012/04/24/rose-3-1/">Rose手册第三章一节：controller层：url对照规则与返回结果规则</a></h1>
      
      
        <p class="meta">
          
  
  
  
  
  
  
  
  
    
  
  
  
  <time datetime="2012-04-24T00:00:00+08:00" pubdate data-updated="true">2012-04-24 00:00:00 +0800</time>
          
        </p>
      
    </header>
  
  
    <div class="entry-content entry-content1">
<p><img src="http://img03.taobaocdn.com/bao/uploaded/i3/T1_9ahXlFfXXbwx8Z8_101515.jpg_210x210.jpg" alt="rose框架"></p>
  
  <p><strong>3.1.1) url对照规则——最简单的例子</strong></p>
  
  <p>先看看怎样把url和某个方法对应起来。为了方便说明，现在我们来一起完成一个极简版的贴吧。<br>
  1)贴吧需要什么功能？</p>
  
  <p>贴吧中当然会有很多“主帖”（topic），“主帖”下会有很多“跟帖”（comment）。<br>
  一般，贴吧中最基本的，会有下面这几个功能需要我们完成：</p>
  
  <p>    显示主帖列表<br>
      显示单个主帖和它的跟贴<br>
      显示单个跟贴<br>
      创建一个主帖<br>
      创建一个跟贴</p>
  
  <p>2)设计 web API</p>
  
  <p>然后让我们来规划一个REST风格的 web API :（“GET”和“POST”是指HTTP1.1中的请求方法）</p>
  
  <p>    显示主帖列表<br>
          GET http://github.com/myforum/topic<br>
      显示单个主帖和它的跟贴<br>
          GET http://github.com/myforum/topic/123<br>
      显示单个跟贴<br>
          GET http://github.com/myforum/topic/123/comment/456<br>
      创建一个主帖<br>
          POST http://github.com/myforum/topic<br>
      创建一个跟贴<br>
          POST http://github.com/myforum/topic/123/comment</p>
  
  <p>可以发现一个共同点，所有API中，URI部分的第一级都是“/myforum”（但这并不是规定，仅仅为了演示）。<br>
  3)实现 web API</p>
  
  <p>首先新建一个类，这个类的类名必须以“Controller”结尾：</p>
  
  <p>@Path("myforum")<br>
  public class ForumController {<br>
  }</p>
  
  <p>注意标注在类(class)上的注解“@Path("myforum")”，这意味着，这个类中定义的所有API的URI，都必须以“myforum”开头，比如“/myforum/xxx”和“/myforum/yyy”等（但“myforum”不一定是整个URI的第一级，比如“/aaa/myforum/bbb”）。</p>
  
  <p>接着，实现第一个API——“GET http://github.com/myforum/topic”：</p>
  
  <p>@Path("myforum")<br>
  public class ForumController {<br>
      @Get("topic")<br>
      public String getTopics() {<br>
          //显示主帖列表<br>
          return "topiclist";<br>
      }<br>
  }</p>
  
  <p>因为是“GET”方法，所以在该方法上标注“@Get("")”，URI“/myforum/topic”中的“myforum”已经在“@Path("myforum")”中定义过了，所以只剩下“topic”，于是写“@Get("topic")”。</p>
  
  <p>再看第二个API——“GET http://github.com/myforum/topic/123”。<br>
  跟前一个的唯一区别是，后面多了个“/123”，表示主帖id，而这个id当然不是固定的，只有用户点击链接发来请求时才能知道，肿么办？<br>
  没关系，rose支持正则表达式！可以这么写：</p>
  
  <p>@Get("topic/{topicId:[0-9]+}")<br>
  public String showTopic(@Param("topicId") int topicId) {<br>
      //显示单个主帖和它的跟贴<br>
      return "topic";<br>
  }</p>
  
  <p>与前一个API相比，多了段“/{topicId:[0-9]+}”。正则表达式被大括号"{}"包围，格式为“{ paramName : regularExpression }”，只有请求的URI能被正则表达式匹配时，才会执行这个方法，而被匹配的值将被保存在名为“topicId”的参数中。</p>
  
  <p>同理，实现第三个API，稍微复杂一点：</p>
  
  <p>@Get("topic/{topicId:[0-9]+}/comment/{commentId:[0-9]+}")<br>
  public String showComment(@Param("topicId") int topicId, @Param("commentId") int commentId) {<br>
      //显示单个跟贴<br>
      return "comment";<br>
  }</p>
  
  <p>最后两个API使用POST方法，其他与前面相同：</p>
  
  <p>@Post("topic")<br>
  public String createTopic(){<br>
      //创建一个主帖<br>
      return "topic";<br>
  @Post("topic/{topicId:[0-9]+}/comment")<br>
  public String createComment(@Param("topicId") int topicId){<br>
      //创建一个跟贴<br>
      return "comment";<br>
  }</p>
  
  <p>完整的代码如下（省略了import语句）：</p>
  
  <p>@Path("myforum")<br>
  public class ForumController {</p>
  
  <p>    @Get("topic")<br>
      public String getTopics() {<br>
          //显示主帖列表<br>
          return "topiclist";<br>
      }</p>
  
  <p>    @Get("topic/{topicId:[0-9]+}")<br>
      public String showTopic(@Param("topicId") int topicId) {<br>
          //显示单个主帖和它的跟贴<br>
          return "topic";<br>
      }</p>
  
  <p>    @Get("topic/{topicId:[0-9]+}/comment/{commentId:[0-9]+}")<br>
      public String showComment(@Param("topicId") int topicId, @Param("commentId") int commentId) {<br>
          //显示单个跟贴<br>
          return "comment";<br>
      }</p>
  
  <p>    @Post("topic")<br>
      public String createTopic(){<br>
          //创建一个主帖<br>
          return "topic";<br>
      }</p>
  
  <p>    @Post("topic/{topicId:[0-9]+}/comment")<br>
      public String createComment(@Param("topicId") int topicId){<br>
          //创建一个跟贴<br>
          return "comment";<br>
      }<br>
  }</p>
  
  <p>至此，一个贴吧功能的Controller就编写完成了。<br>
  4) 更多细节</p>
  
  <p>除了上面例子中的做法（@Path("")，@Get("")和@Post("")），还可以通过包路径来规划URI。</p>
  
  <p>比如前面例子中的Controller，在API不变的前提下，还可以这么做：</p>
  
  <p>1.在controllers路径下新建一个叫做“myforum”的文件夹。<br>
  2.将ForumController从“xxx.controllers”移动到“xxx.controllers.myforum”<br>
  并改成下面这样：</p>
  
  <p>@Path("")<br>
  public class ForumController {<br>
      @Get("topic")<br>
      public String getTopics() {<br>
          //显示主帖列表<br>
          return "topiclist";<br>
      }<br>
      ... ...<br>
  }</p>
  
  <p>只是将“@Path("myforum")”改成了“@Path("")”。这样做的好处是可以让项目中的代码组织清晰。<br>
  3.1.2) 返回结果规则<br>
  ___NOT EOF___</p>
  
  <p>author:vaporz </p>
  
  <p>完整和长期修改版本在：<a href="https://github.com/XiaoMi/rose/tree/master/chapter_3_1">https://github.com/XiaoMi/rose/tree/master/chapter_3_1</a>
  关于rose手册计划：<a href="https://github.com/XiaoMi/rose">https://github.com/XiaoMi/rose</a></p>
  </div>
    
    
  
  
      </article>
    
    
      <article>
        
    <header>
      
        <h1 class="entry-title"><a href="/blog/2012/04/10/rose-manual-2/">Rose手册第二章：配置与使用</a></h1>
      
      
        <p class="meta">
          
  
  
  
  
  
  
  
  
    
  
  
  
  <time datetime="2012-04-10T00:00:00+08:00" pubdate data-updated="true">2012-04-10 00:00:00 +0800</time>
          
        </p>
      
    </header>
  
  
    <div class="entry-content entry-content1">
<p></p>
<p style="font-size:66px">ROSE</p> 
  
  <p><strong>2.1 基础环境</strong> </p>
  
  <p>* 普通的pc机，del 380<br>
  * ubuntu 10.04基本不升级<br>
  * java version "1.6.0_29"<br>
  * eclipse<br>
  * m2clipse<br>
  * 茶一杯</p>
  
  <p><strong>2.2 maven简介</strong></p>
  
  <p>* maven是基于项目对象模型(POM)，可以通过一小段描述信息来管理项目的构建，报告和文档的软件项目管理工具。如果你已经有十次输入同样的Ant targets来编译你的代码、jar或者war、生成javadocs，你一定会自问，是否有一个重复性更少却能同样完成该工作的方法。Maven便提供了这样一种选择，将你的注意力从作业层转移到项目管理层。Maven项目已经能够知道如何构建和捆绑代码，运行测试，生成文档并宿主项目网页。<br>
  * maven对一个项目进入了固定的默认目录定义：<br>
   * src/main/java 写主要的java实现<br>
   * src/main/resources 写主要的配置文件<br>
   * src/test/java 写test case<br>
   * src/test/resources 写test case所需要的配置文件<br>
   * src/main/webapp [war项目特有]web项目的对外目录<br>
   * src/main/webapp/WEB-INF [war项目特有]web项目配置web.xml目录</p>
  
  <p><strong>2.3 项目建立</strong> </p>
  
  <p>* 打开eclipse(需要提前安装好m2clipse插件)<br>
  * new -&gt; other -&gt; maven -&gt; maven project<br>
  * create a simple project<br>
  * next<br>
  * group id:com.54chen<br>
  * artifact id:rose-example<br>
  * packaging: war<br>
  * finished</p>
  
  <p><strong>2.4 基础配置三步走</strong></p>
  
  <p><strong> 1）点火：基础的pom文件 </strong>
  打开2.3建立好的项目，打开pom.xml，添加下面的段落到project中：</p>
  
  <p></p>
<div class="chen-hl">
<div class="bar"></div>
<ol class="dp-xml" start="1">
<li class="alt"><span><span class="tag">&lt;</span><span class="tag-name">dependencies</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>        <span class="tag">&lt;</span><span class="tag-name">dependency</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>            <span class="tag">&lt;</span><span class="tag-name">groupId</span><span class="tag">&gt;</span><span>com.54chen</span><span class="tag">&lt;/</span><span class="tag-name">groupId</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>            <span class="tag">&lt;</span><span class="tag-name">artifactId</span><span class="tag">&gt;</span><span>paoding-rose-scanning</span><span class="tag">&lt;/</span><span class="tag-name">artifactId</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>            <span class="tag">&lt;</span><span class="tag-name">version</span><span class="tag">&gt;</span><span>1.0-SNAPSHOT</span><span class="tag">&lt;/</span><span class="tag-name">version</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>        <span class="tag">&lt;/</span><span class="tag-name">dependency</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>  </span></li>
<li class=""><span>        <span class="tag">&lt;</span><span class="tag-name">dependency</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>            <span class="tag">&lt;</span><span class="tag-name">groupId</span><span class="tag">&gt;</span><span>com.54chen</span><span class="tag">&lt;/</span><span class="tag-name">groupId</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>            <span class="tag">&lt;</span><span class="tag-name">artifactId</span><span class="tag">&gt;</span><span>paoding-rose</span><span class="tag">&lt;/</span><span class="tag-name">artifactId</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>            <span class="tag">&lt;</span><span class="tag-name">version</span><span class="tag">&gt;</span><span>1.0-SNAPSHOT</span><span class="tag">&lt;/</span><span class="tag-name">version</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>        <span class="tag">&lt;/</span><span class="tag-name">dependency</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>  </span></li>
<li class=""><span>        <span class="tag">&lt;</span><span class="tag-name">dependency</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>            <span class="tag">&lt;</span><span class="tag-name">groupId</span><span class="tag">&gt;</span><span>com.54chen</span><span class="tag">&lt;/</span><span class="tag-name">groupId</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>            <span class="tag">&lt;</span><span class="tag-name">artifactId</span><span class="tag">&gt;</span><span>paoding-rose-portal</span><span class="tag">&lt;/</span><span class="tag-name">artifactId</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>            <span class="tag">&lt;</span><span class="tag-name">version</span><span class="tag">&gt;</span><span>1.0-SNAPSHOT</span><span class="tag">&lt;/</span><span class="tag-name">version</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>        <span class="tag">&lt;/</span><span class="tag-name">dependency</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>  </span></li>
<li class=""><span>        <span class="tag">&lt;</span><span class="tag-name">dependency</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>            <span class="tag">&lt;</span><span class="tag-name">groupId</span><span class="tag">&gt;</span><span>com.54chen</span><span class="tag">&lt;/</span><span class="tag-name">groupId</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>            <span class="tag">&lt;</span><span class="tag-name">artifactId</span><span class="tag">&gt;</span><span>paoding-rose-jade</span><span class="tag">&lt;/</span><span class="tag-name">artifactId</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>            <span class="tag">&lt;</span><span class="tag-name">version</span><span class="tag">&gt;</span><span>1.1-SNAPSHOT</span><span class="tag">&lt;/</span><span class="tag-name">version</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>        <span class="tag">&lt;/</span><span class="tag-name">dependency</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>    <span class="tag">&lt;/</span><span class="tag-name">dependencies</span><span class="tag">&gt;</span><span>  </span></span></li>
</ol>
</div>
  
  <p>上述是rose环境最基础的依赖包。再添加一点常见的编译设置：</p>
  
  <p></p>
<div class="chen-hl">
<div class="bar"></div>
<ol class="dp-xml" start="1">
<li class="alt"><span><span class="tag">&lt;</span><span class="tag-name">build</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>    <span class="tag">&lt;</span><span class="tag-name">resources</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>        <span class="tag">&lt;</span><span class="tag-name">resource</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>            <span class="tag">&lt;</span><span class="tag-name">directory</span><span class="tag">&gt;</span><span>src/main/resources</span><span class="tag">&lt;/</span><span class="tag-name">directory</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>            <span class="tag">&lt;</span><span class="tag-name">includes</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>                <span class="tag">&lt;</span><span class="tag-name">include</span><span class="tag">&gt;</span><span>**/*.*</span><span class="tag">&lt;/</span><span class="tag-name">include</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>            <span class="tag">&lt;/</span><span class="tag-name">includes</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>        <span class="tag">&lt;/</span><span class="tag-name">resource</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>    <span class="tag">&lt;/</span><span class="tag-name">resources</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>    <span class="tag">&lt;</span><span class="tag-name">plugins</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>        <span class="tag">&lt;</span><span class="tag-name">plugin</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>            <span class="tag">&lt;</span><span class="tag-name">groupId</span><span class="tag">&gt;</span><span>org.apache.maven.plugins</span><span class="tag">&lt;/</span><span class="tag-name">groupId</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>            <span class="tag">&lt;</span><span class="tag-name">artifactId</span><span class="tag">&gt;</span><span>maven-war-plugin</span><span class="tag">&lt;/</span><span class="tag-name">artifactId</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>            <span class="tag">&lt;</span><span class="tag-name">version</span><span class="tag">&gt;</span><span>2.0.2</span><span class="tag">&lt;/</span><span class="tag-name">version</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>            <span class="tag">&lt;</span><span class="tag-name">configuration</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>                <span class="tag">&lt;</span><span class="tag-name">webResources</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>                    <span class="tag">&lt;</span><span class="tag-name">resource</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>                        <span class="tag">&lt;</span><span class="tag-name">targetPath</span><span class="tag">&gt;</span><span>WEB-INF</span><span class="tag">&lt;/</span><span class="tag-name">targetPath</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>                        <span class="tag">&lt;</span><span class="tag-name">filtering</span><span class="tag">&gt;</span><span>true</span><span class="tag">&lt;/</span><span class="tag-name">filtering</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>                        <span class="tag">&lt;</span><span class="tag-name">directory</span><span class="tag">&gt;</span><span>src/main/resources</span><span class="tag">&lt;/</span><span class="tag-name">directory</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>                        <span class="tag">&lt;</span><span class="tag-name">includes</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>                            <span class="tag">&lt;</span><span class="tag-name">include</span><span class="tag">&gt;</span><span>**/*.xml</span><span class="tag">&lt;/</span><span class="tag-name">include</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>                            <span class="tag">&lt;</span><span class="tag-name">include</span><span class="tag">&gt;</span><span>**/*.properties</span><span class="tag">&lt;/</span><span class="tag-name">include</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>                        <span class="tag">&lt;/</span><span class="tag-name">includes</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>                        <span class="tag">&lt;</span><span class="tag-name">targetPath</span><span class="tag">&gt;</span><span>WEB-INF</span><span class="tag">&lt;/</span><span class="tag-name">targetPath</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>                    <span class="tag">&lt;/</span><span class="tag-name">resource</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>                <span class="tag">&lt;/</span><span class="tag-name">webResources</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>            <span class="tag">&lt;/</span><span class="tag-name">configuration</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>        <span class="tag">&lt;/</span><span class="tag-name">plugin</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>        <span class="tag">&lt;</span><span class="tag-name">plugin</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>            <span class="tag">&lt;</span><span class="tag-name">groupId</span><span class="tag">&gt;</span><span>org.apache.maven.plugins</span><span class="tag">&lt;/</span><span class="tag-name">groupId</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>            <span class="tag">&lt;</span><span class="tag-name">artifactId</span><span class="tag">&gt;</span><span>maven-compiler-plugin</span><span class="tag">&lt;/</span><span class="tag-name">artifactId</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>            <span class="tag">&lt;</span><span class="tag-name">configuration</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>                <span class="tag">&lt;</span><span class="tag-name">source</span><span class="tag">&gt;</span><span>1.6</span><span class="tag">&lt;/</span><span class="tag-name">source</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>                <span class="tag">&lt;</span><span class="tag-name">target</span><span class="tag">&gt;</span><span>1.6</span><span class="tag">&lt;/</span><span class="tag-name">target</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>                <span class="tag">&lt;</span><span class="tag-name">fork</span><span class="tag">&gt;</span><span>true</span><span class="tag">&lt;/</span><span class="tag-name">fork</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>                <span class="tag">&lt;</span><span class="tag-name">verbose</span><span class="tag">&gt;</span><span>true</span><span class="tag">&lt;/</span><span class="tag-name">verbose</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>                <span class="tag">&lt;</span><span class="tag-name">encoding</span><span class="tag">&gt;</span><span>UTF-8</span><span class="tag">&lt;/</span><span class="tag-name">encoding</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>                <span class="tag">&lt;</span><span class="tag-name">compilerArguments</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>                    <span class="tag">&lt;</span><span class="tag-name">sourcepath</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>                        ${project.basedir}/src/main/java  </span></li>
<li class=""><span>                       <span class="tag">&lt;/</span><span class="tag-name">sourcepath</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>                <span class="tag">&lt;/</span><span class="tag-name">compilerArguments</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>            <span class="tag">&lt;/</span><span class="tag-name">configuration</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>        <span class="tag">&lt;/</span><span class="tag-name">plugin</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>        <span class="tag">&lt;</span><span class="tag-name">plugin</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>            <span class="tag">&lt;</span><span class="tag-name">groupId</span><span class="tag">&gt;</span><span>org.apache.maven.plugins</span><span class="tag">&lt;/</span><span class="tag-name">groupId</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>            <span class="tag">&lt;</span><span class="tag-name">artifactId</span><span class="tag">&gt;</span><span>maven-surefire-plugin</span><span class="tag">&lt;/</span><span class="tag-name">artifactId</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>            <span class="tag">&lt;</span><span class="tag-name">configuration</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>                <span class="comments">&lt;!-- 忽略测试 --&gt;</span><span>  </span></span></li>
<li class="alt"><span>                <span class="tag">&lt;</span><span class="tag-name">skip</span><span class="tag">&gt;</span><span>true</span><span class="tag">&lt;/</span><span class="tag-name">skip</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>            <span class="tag">&lt;/</span><span class="tag-name">configuration</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>        <span class="tag">&lt;/</span><span class="tag-name">plugin</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>    <span class="tag">&lt;/</span><span class="tag-name">plugins</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span><span class="tag">&lt;/</span><span class="tag-name">build</span><span class="tag">&gt;</span><span>  </span></span></li>
</ol>
</div>
  
  <p>上述是编译设置，也是放在project段落里。</p>
  
  <p><strong> 2）松离合：必不可少的web.xml </strong>
  在src/main/webapp/WEB-INF文件夹下建立web.xml:</p>
  
  <p> </p>
<div class="chen-hl">
<div class="bar"></div>
<ol class="dp-xml" start="1">
<li class="alt"><span><span class="tag">&lt;?</span><span class="tag-name">xml</span><span> </span><span class="attribute">version</span><span>=</span><span class="attribute-value">"1.0"</span><span> </span><span class="attribute">encoding</span><span>=</span><span class="attribute-value">"UTF-8"</span><span class="tag">?&gt;</span><span>  </span></span></li>
<li class=""><span><span class="tag">&lt;</span><span class="tag-name">web-app</span><span> </span><span class="attribute">xmlns:xsi</span><span>=</span><span class="attribute-value">"http://www.w3.org/2001/XMLSchema-instance"</span><span>  </span></span></li>
<li class="alt"><span>    <span class="attribute">xmlns</span><span>=</span><span class="attribute-value">"http://java.sun.com/xml/ns/javaee"</span><span> </span><span class="attribute">xmlns:web</span><span>=</span><span class="attribute-value">"http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"</span><span>  </span></span></li>
<li class=""><span>    <span class="attribute">xsi:schemaLocation</span><span>=</span><span class="attribute-value">"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"</span><span>  </span></span></li>
<li class="alt"><span>    <span class="attribute">id</span><span>=</span><span class="attribute-value">"WebApp_ID"</span><span> </span><span class="attribute">version</span><span>=</span><span class="attribute-value">"2.5"</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>    <span class="tag">&lt;</span><span class="tag-name">display-name</span><span class="tag">&gt;</span><span>rose-example</span><span class="tag">&lt;/</span><span class="tag-name">display-name</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>    <span class="tag">&lt;</span><span class="tag-name">welcome-file-list</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>        <span class="tag">&lt;</span><span class="tag-name">welcome-file</span><span class="tag">&gt;</span><span>index.html</span><span class="tag">&lt;/</span><span class="tag-name">welcome-file</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>        <span class="tag">&lt;</span><span class="tag-name">welcome-file</span><span class="tag">&gt;</span><span>index.htm</span><span class="tag">&lt;/</span><span class="tag-name">welcome-file</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>        <span class="tag">&lt;</span><span class="tag-name">welcome-file</span><span class="tag">&gt;</span><span>index.jsp</span><span class="tag">&lt;/</span><span class="tag-name">welcome-file</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>        <span class="tag">&lt;</span><span class="tag-name">welcome-file</span><span class="tag">&gt;</span><span>default.html</span><span class="tag">&lt;/</span><span class="tag-name">welcome-file</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>        <span class="tag">&lt;</span><span class="tag-name">welcome-file</span><span class="tag">&gt;</span><span>default.htm</span><span class="tag">&lt;/</span><span class="tag-name">welcome-file</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>        <span class="tag">&lt;</span><span class="tag-name">welcome-file</span><span class="tag">&gt;</span><span>default.jsp</span><span class="tag">&lt;/</span><span class="tag-name">welcome-file</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>    <span class="tag">&lt;/</span><span class="tag-name">welcome-file-list</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>      </span></li>
<li class=""><span>       </span></li>
<li class="alt"><span>    <span class="tag">&lt;</span><span class="tag-name">context-param</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>        <span class="tag">&lt;</span><span class="tag-name">param-name</span><span class="tag">&gt;</span><span>log4jConfigLocation</span><span class="tag">&lt;/</span><span class="tag-name">param-name</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>        <span class="tag">&lt;</span><span class="tag-name">param-value</span><span class="tag">&gt;</span><span>/WEB-INF/log4j.xml</span><span class="tag">&lt;/</span><span class="tag-name">param-value</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>    <span class="tag">&lt;/</span><span class="tag-name">context-param</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>  </span></li>
<li class=""><span>    <span class="tag">&lt;</span><span class="tag-name">listener</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>        <span class="tag">&lt;</span><span class="tag-name">listener-class</span><span class="tag">&gt;</span><span>org.springframework.web.util.Log4jConfigListener</span><span class="tag">&lt;/</span><span class="tag-name">listener-class</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>    <span class="tag">&lt;/</span><span class="tag-name">listener</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>    <span class="tag">&lt;</span><span class="tag-name">filter</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>        <span class="tag">&lt;</span><span class="tag-name">filter-name</span><span class="tag">&gt;</span><span>roseFilter</span><span class="tag">&lt;/</span><span class="tag-name">filter-name</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>        <span class="tag">&lt;</span><span class="tag-name">filter-class</span><span class="tag">&gt;</span><span>net.paoding.rose.RoseFilter</span><span class="tag">&lt;/</span><span class="tag-name">filter-class</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>    <span class="tag">&lt;/</span><span class="tag-name">filter</span><span class="tag">&gt;</span><span>   </span></span></li>
<li class="alt"><span>    <span class="tag">&lt;</span><span class="tag-name">filter-mapping</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>        <span class="tag">&lt;</span><span class="tag-name">filter-name</span><span class="tag">&gt;</span><span>roseFilter</span><span class="tag">&lt;/</span><span class="tag-name">filter-name</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>        <span class="tag">&lt;</span><span class="tag-name">url-pattern</span><span class="tag">&gt;</span><span>/*</span><span class="tag">&lt;/</span><span class="tag-name">url-pattern</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>        <span class="tag">&lt;</span><span class="tag-name">dispatcher</span><span class="tag">&gt;</span><span>REQUEST</span><span class="tag">&lt;/</span><span class="tag-name">dispatcher</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>        <span class="tag">&lt;</span><span class="tag-name">dispatcher</span><span class="tag">&gt;</span><span>FORWARD</span><span class="tag">&lt;/</span><span class="tag-name">dispatcher</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>        <span class="tag">&lt;</span><span class="tag-name">dispatcher</span><span class="tag">&gt;</span><span>INCLUDE</span><span class="tag">&lt;/</span><span class="tag-name">dispatcher</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>    <span class="tag">&lt;/</span><span class="tag-name">filter-mapping</span><span class="tag">&gt;</span><span>   </span></span></li>
<li class=""><span><span class="tag">&lt;/</span><span class="tag-name">web-app</span><span class="tag">&gt;</span><span>  </span></span></li>
</ol>
</div>
  <strong> 3）踩油门：applicationContext.xml </strong>
  src/main/resources/applicationContext.xml是spring环境的油门，所有包的扫描和启动都在这里定义：
  
  <p></p>
<div class="chen-hl">
<div class="bar"></div>
<ol class="dp-xml" start="1">
<li class="alt"><span><span class="tag">&lt;?</span><span class="tag-name">xml</span><span> </span><span class="attribute">version</span><span>=</span><span class="attribute-value">"1.0"</span><span> </span><span class="attribute">encoding</span><span>=</span><span class="attribute-value">"UTF-8"</span><span class="tag">?&gt;</span><span>  </span></span></li>
<li class=""><span><span class="tag">&lt;</span><span class="tag-name">beans</span><span> </span><span class="attribute">xmlns</span><span>=</span><span class="attribute-value">"http://www.springframework.org/schema/beans"</span><span>  </span></span></li>
<li class="alt"><span>    <span class="attribute">xmlns:xsi</span><span>=</span><span class="attribute-value">"http://www.w3.org/2001/XMLSchema-instance"</span><span> </span><span class="attribute">xmlns:context</span><span>=</span><span class="attribute-value">"http://www.springframework.org/schema/context"</span><span>  </span></span></li>
<li class=""><span>    <span class="attribute">xsi:schemaLocation</span><span>="http://www.springframework.org/schema/beans    </span></span></li>
<li class="alt"><span>    http://www.springframework.org/schema/beans/spring-beans-2.5.xsd    </span></li>
<li class=""><span>    http://www.springframework.org/schema/context    </span></li>
<li class="alt"><span>    http://www.springframework.org/schema/context/spring-context-2.5.xsd"  </span></li>
<li class=""><span>    <span class="attribute">default-lazy-init</span><span>=</span><span class="attribute-value">"true"</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>  </span></li>
<li class=""><span>    <span class="comments">&lt;!-- 自动扫描 --&gt;</span><span>  </span></span></li>
<li class="alt"><span>    <span class="tag">&lt;</span><span class="tag-name">context:annotation-config</span><span> </span><span class="tag">/&gt;</span><span>  </span></span></li>
<li class=""><span>    <span class="tag">&lt;</span><span class="tag-name">context:component-scan</span><span> </span><span class="attribute">base-package</span><span>=</span><span class="attribute-value">"com.chen"</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class="alt"><span>    <span class="tag">&lt;/</span><span class="tag-name">context:component-scan</span><span class="tag">&gt;</span><span>  </span></span></li>
<li class=""><span>       </span></li>
<li class="alt"><span><span class="tag">&lt;/</span><span class="tag-name">beans</span><span class="tag">&gt;</span><span>  </span></span></li>
</ol>
</div>
  
  <p><strong>2.5 hello world</strong>
   <br>
  * 在src/main/java上右键 -&gt; new -&gt; package -&gt; name: com.chen<br>
  * 在com.chen上右键 -&gt; new -&gt; package -&gt; com.chen.controllers [controllers是rose框架默认的加载controller的package name]<br>
  * 在com.chen.controllers上右键 -&gt; new -&gt; class -&gt; HelloController [*Controller是rose框架默认的controller层的class后缀]<br>
  * 打开HelloController这个类<br>
  * 在public class HelloController添加注解@Path("")  [Path注解是rose框架提供的标识每个controller的对外访问时的基础路径]<br>
  * 在HelloController中添加方法</p>
  
  <p></p>
<div class="chen-hl">
<div class="bar"></div>
<ol class="dp-j" start="1">
<li class="alt"><span><span class="comment">/**</span> </span></li>
<li class=""><span><span class="comment"> * @author 54chen(陈臻) [chenzhen@xiaomi.com cc0cc@126.com]</span> </span></li>
<li class="alt"><span><span class="comment"> * @since 2012-4-10 上午11:14:46</span> </span></li>
<li class=""><span><span class="comment"> */</span><span>  </span></span></li>
<li class="alt"><span><span class="keyword">package</span><span> com.chen.controllers;  </span></span></li>
<li class=""><span>  </span></li>
<li class="alt"><span><span class="keyword">import</span><span> net.paoding.rose.web.annotation.Path;  </span></span></li>
<li class=""><span><span class="keyword">import</span><span> net.paoding.rose.web.annotation.rest.Get;  </span></span></li>
<li class="alt"><span>  </span></li>
<li class=""><span><span class="annotation">@Path</span><span>(</span><span class="string">""</span><span>)  </span></span></li>
<li class="alt"><span><span class="keyword">public</span><span> </span><span class="keyword">class</span><span> HelloController {  </span></span></li>
<li class=""><span>  </span></li>
<li class="alt"><span>    <span class="annotation">@Get</span><span>(</span><span class="string">""</span><span>)  </span></span></li>
<li class=""><span>    <span class="keyword">public</span><span> String index() {  </span></span></li>
<li class="alt"><span>        <span class="keyword">return</span><span> </span><span class="string">"@hello world"</span><span>;  </span></span></li>
<li class=""><span>    }  </span></li>
<li class="alt"><span>}  </span></li>
</ol>
</div>
  
  <p>* [Get注解是rose框架提供的标识一个http访问是get还是post或者是其他，并且会将path与get中的字符串连接成一个url]<br>
  * 上述代码可以从浏览器访问：http://localhost/。<br>
  * 下述代码可以从浏览器访问：http://localhost/hello/world [注意path与get中的参数]。
  </p>
<div class="chen-hl">
<div class="bar"></div>
<ol class="dp-j" start="1">
<li class="alt"><span><span class="comment">/**</span> </span></li>
<li class=""><span><span class="comment"> * @author 54chen(陈臻) [chenzhen@xiaomi.com cc0cc@126.com]</span> </span></li>
<li class="alt"><span><span class="comment"> * @since 2012-4-10 上午11:14:46</span> </span></li>
<li class=""><span><span class="comment"> */</span><span>  </span></span></li>
<li class="alt"><span><span class="keyword">package</span><span> com.chen.controllers;  </span></span></li>
<li class=""><span>  </span></li>
<li class="alt"><span><span class="keyword">import</span><span> net.paoding.rose.web.annotation.Path;  </span></span></li>
<li class=""><span><span class="keyword">import</span><span> net.paoding.rose.web.annotation.rest.Get;  </span></span></li>
<li class="alt"><span>  </span></li>
<li class=""><span><span class="annotation">@Path</span><span>(</span><span class="string">"/hello/"</span><span>)  </span></span></li>
<li class="alt"><span><span class="keyword">public</span><span> </span><span class="keyword">class</span><span> HelloController {  </span></span></li>
<li class=""><span>  </span></li>
<li class="alt"><span>    <span class="annotation">@Get</span><span>(</span><span class="string">"world"</span><span>)  </span></span></li>
<li class=""><span>    <span class="keyword">public</span><span> String index() {  </span></span></li>
<li class="alt"><span>        <span class="keyword">return</span><span> </span><span class="string">"@hello world"</span><span>;  </span></span></li>
<li class=""><span>    }  </span></li>
<li class="alt"><span>}  </span></li>
</ol>
</div>
  
  <p>__EOF__</p>
  
  <p>* 动态更新版本地址在：<a href="https://github.com/XiaoMi/rose/tree/master/chapter_2">https://github.com/XiaoMi/rose/tree/master/chapter_2</a>
  * 文中所提及的代码在：<a href="https://github.com/XiaoMi/rose/rose-example">https://github.com/XiaoMi/rose/rose-example</a></p>
  </div>
    
    
  
  
      </article>
    
    
      <div class="pagination">
    
      <a href="/posts/12">« Prev</a>
    
  
    
      
        <a href="/">1</a>
      
    
      
        <a href="/posts/2">2</a>
      
    
      
        <a href="/posts/3">3</a>
      
    
      
        <a href="/posts/4">4</a>
      
    
      
        <a href="/posts/5">5</a>
      
    
      
        <a href="/posts/6">6</a>
      
    
      
        <a href="/posts/7">7</a>
      
    
      
        <a href="/posts/8">8</a>
      
    
      
        <a href="/posts/9">9</a>
      
    
      
        <a href="/posts/10">10</a>
      
    
      
        <a href="/posts/11">11</a>
      
    
      
        <a href="/posts/12">12</a>
      
    
      
        <em>13</em>
      
    
      
        <a href="/posts/14">14</a>
      
    
      
        <a href="/posts/15">15</a>
      
    
      
        <a href="/posts/16">16</a>
      
    
      
        <a href="/posts/17">17</a>
      
    
      
        <a href="/posts/18">18</a>
      
    
      
        <a href="/posts/19">19</a>
      
    
      
        <a href="/posts/20">20</a>
      
    
      
        <a href="/posts/21">21</a>
      
    
      
        <a href="/posts/22">22</a>
      
    
      
        <a href="/posts/23">23</a>
      
    
      
        <a href="/posts/24">24</a>
      
    
      
        <a href="/posts/25">25</a>
      
    
      
        <a href="/posts/26">26</a>
      
    
      
        <a href="/posts/27">27</a>
      
    
      
        <a href="/posts/28">28</a>
      
    
      
        <a href="/posts/29">29</a>
      
    
      
        <a href="/posts/30">30</a>
      
    
      
        <a href="/posts/31">31</a>
      
    
      
        <a href="/posts/32">32</a>
      
    
      
        <a href="/posts/33">33</a>
      
    
      
        <a href="/posts/34">34</a>
      
    
      
        <a href="/posts/35">35</a>
      
    
      
        <a href="/posts/36">36</a>
      
    
      
        <a href="/posts/37">37</a>
      
    
      
        <a href="/posts/38">38</a>
      
    
      
        <a href="/posts/39">39</a>
      
    
      
        <a href="/posts/40">40</a>
      
    
      
        <a href="/posts/41">41</a>
      
    
      
        <a href="/posts/42">42</a>
      
    
      
        <a href="/posts/43">43</a>
      
    
      
        <a href="/posts/44">44</a>
      
    
      
        <a href="/posts/45">45</a>
      
    
      
        <a href="/posts/46">46</a>
      
    
      
        <a href="/posts/47">47</a>
      
    
      
        <a href="/posts/48">48</a>
      
    
      
        <a href="/posts/49">49</a>
      
    
      
        <a href="/posts/50">50</a>
      
    
      
        <a href="/posts/51">51</a>
      
    
      
        <a href="/posts/52">52</a>
      
    
      
        <a href="/posts/53">53</a>
      
    
      
        <a href="/posts/54">54</a>
      
    
      
        <a href="/posts/55">55</a>
      
    
      
        <a href="/posts/56">56</a>
      
    
  
    
      <a href="/posts/14">Next »</a>
    
  </div>
  
  
    <div class="pagination">
      <a href="/blog/archives">Blog Archives</a>
    </div>
  </div>
  <aside class="sidebar">
    
      
    
  </aside>
  
    </div>
    <footer role="contentinfo" class="footer_css">  <script src="/javascripts/modernizr-2.0.js"></script>
    <script src="/javascripts/libs/jquery.min.js"></script>
    <script src="/javascripts/octopress.js" type="text/javascript"></script>
    Copyright © 2017 - 54chen -
  
  </footer>
    
  
  
  
  
  
  
  
  
  </div>
</body>
  </html>
